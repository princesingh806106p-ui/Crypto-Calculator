!function(u,d){"use strict";var g=u.YAHOO=u.YAHOO||{},v=g.NB||{},o=g.SP=g.SP||{},c='<span class="ico {1}"></span>',f="host",t="boundingBox",h="contentBox",_="offsetWidth",b="offsetLeft",m="offsetHeight",C="scrollLeft",p="start",w="end",n="px",A="duration",y="scrollX",S=t+"Width",E=h+"Width",P="cardsDim",x="totalImg",L="cssArrowPrevIconClass",T="cssArrowNextIconClass",N="cssArrowPrevIconHvrClass",H="cssArrowNextIconHvrClass",I=650,W="enableItemHvr",i="containerClass",M="disable",B="extra",X="showArrow",V="noArrow",z="data-beacon",U="ul>li",q="scroll",D="click",F="mouseover",O="mouseout",l="enableNav",k="arrowHeight",G="disableArrows",R="enableHvrIcons",Y="enableFullWidth",j="arrowType",J="disableAutoHeight",Q="disableScrollTargetBeforeOnload",K="elmtClassToByPassScrollWidth",r={};function e(){}function a(e){return this._setNode(e)}e.ATTRS={boundingBox:{writeOnce:!0,setter:a},contentBox:{writeOnce:!0,setter:a},targetClass:{value:"compJsScroll"},hiddenClass:{value:"v-h"},boundingBoxWidth:{value:null},contentBoxWidth:{value:null},cardMaxHeight:{value:null},cardsDim:{value:null},scrollX:{value:0},isCardHeightFixed:{value:null},totalImg:{value:0},customLazy:{value:!1},cssArrowPrevClass:{value:"prev"},cssArrowNextClass:{value:"next"},cssArrowPrevIconClass:{value:"arrow-previous"},cssArrowNextIconClass:{value:"arrow-next"},cssArrowPrevIconHvrClass:{value:"crsl-left-hvr"},cssArrowNextIconHvrClass:{value:"crsl-right-hvr"},enableHvrIcons:{value:!1},positionArrows:{value:!0},enableNav:{value:!1},beaconUrl:{value:!1},includeMarginsTopBottom:{value:!1},arrowType:{value:"arrow"},disableAutoHeight:{value:!1},disableScrollTargetBeforeOnload:{value:!1},arrowHeight:{value:0},enableItemHvr:{value:!1},enableSmoothScrollBehavior:{value:!1},scrollToCenterHorizontal:{value:!1},scrollToElementClass:{value:!1},elmtClassToByPassScrollWidth:{value:""},enableScrollIntoViewAnimation:{value:!1},hoverTargetClass:{value:""},enablePLAScroll:{value:!1}},e.prototype={initializer:function(){var e,t,r,o,a,s,n=this,i=n._bb=n.get(f),l=n.get("config");if(v.UA.touchEnabled===undefined&&n._addTouchFlagToUA(),i.getAttribute(z)&&(n._beacon=JSON.parse(i.getAttribute(z))),(n._beacon||n.get("beaconUrl"))&&(n._leftArrLogParams=n._getLogParams("clk","upd","scrlL"),n._rightArrLogParams=n._getLogParams("clk","upd","scrlR"),n._dragLogParams="true"==l.disableDragLogging?null:n._getLogParams("drag","upd")),l.beaconData&&(l.beaconData.previous&&(n._leftArrLogParams=l.beaconData.previous),l.beaconData.next&&(n._rightArrLogParams=l.beaconData.next)),n.set(h,"ul"),s=n._cb=n.get(h),"string"!=typeof i&&"string"!=typeof s){if(v.addClass(i,n.get("targetClass")),v.removeClass(i.querySelectorAll(".extra"),B),v.addClass(s,"overflowX"),n.set(x,0),0!=l.top&&n.set("0",l.top),l.arrowHeight&&n.set(k,l.arrowHeight),l.cssArrowPrevIconClass&&n.set(L,l.cssArrowPrevIconClass),l.cssArrowNextIconClass&&n.set(T,l.cssArrowNextIconClass),l.cssArrowPrevIconHvrClass&&n.set(N,l.cssArrowPrevIconHvrClass),l.cssArrowNextIconHvrClass&&n.set(H,l.cssArrowNextIconHvrClass),l.enableHvrIcons&&n.set(R,l.enableHvrIcons),n.get("customLazy")&&n._lazyLoadImage(),v.UA.touchEnabled&&n._bindTouchActions(),l.enableScrollIntoView&&n._scrollIntoView(l.scrollIntoViewTarget,l.enableScrollIntoViewAnimation),l.disableArrows&&n.set(G,l.disableArrows),l.positionArrowsTarget&&n.set(".image",l.positionArrowsTarget),l.arrowType&&n.set(j,l.arrowType),l.disableAutoHeight&&"true"===l.disableAutoHeight&&n.set(J,!0),l.disableScrollTargetBeforeOnload&&"true"===l.disableScrollTargetBeforeOnload&&n.set(Q,!0),l.enableFullWidth&&n.set(Y,l.enableFullWidth),l.enableItemHvr&&n.set(W,!0),l.rowCount&&n.set(1,l.rowCount),g.Event.on("contentRefreshed",function(){l.enableScrollToLeft&&n._scrollToLeft(l.scrollToLeftTarget),l.enableReset&&n._setup()}),g.Event.on("forceBindArrows",function(){n._onWindowResize()}),l.enablePLAScroll&&(e=document.querySelector(l.hoverTargetClass),g.Event.on("wheel",function(){for(;e.hasChildNodes();)e.removeChild(e.firstChild)},e)),g.Event.on("recallJsScroll",function(){n._setup()}),n._setup(),l.defaultPageIndex&&!isNaN(parseInt(l.defaultPageIndex,10)))for(var c=l.defaultPageIndex;0<c;c--)n.nextPage();l.enableScrollSelectedItemIntoView&&(t=(o=s&&s.querySelector(".selected"))&&o.offsetLeft,r=o&&o.offsetWidth,i=n.get(S),o=n.maxScrollX,t&&r&&i&&i<t&&(a=t+r/2-i/2,isNaN(a)||(a=Math.min(a,o),n.set(A,I),n.set(y,a)))),l.scrollToCenterHorizontal&&l.scrollToElementClass&&((a=s&&s.querySelector(l.scrollToElementClass))&&(s[C]=a.offsetLeft-s.offsetWidth/2+a.offsetWidth/2,v.addClass(a,"centered"),s="scrollBehavior"in d.documentElement.style,l.enableSmoothScrollBehavior&&s&&a.scrollIntoView({behavior:"smooth",inline:"center"})))}},_scrollIntoView:function(e,t){var r,o=d.querySelector(e),a=this;if(r=o?o.children:r)for(var s=0;s<r.length;++s)g.Event.listen(r[s],"click",function(){var e=this.offsetLeft-o.offsetWidth/2+this.offsetWidth/2;t?(e<=a.minScrollX?g.Event.fire(q+p,null,a):e>=Math.floor(a.maxScrollX)?g.Event.fire(q+w,null,a):g.Event.fire(q,null,a),a._scroll(e,I)):o.scrollLeft=e,v.addClass(this,"focus")},!1)},_scrollToLeft:function(e){d.querySelector(e).scrollLeft=0},_getBbWidth:function(t){var r,e,o=this,a=o.get(K),s=null;""!==a&&null!==(s=t.closest(a))&&("none"==(e=u.getComputedStyle(s)).display?s.style.display="block":"hidden"==e.visibility&&e.visibility);var n=o._getNodeWidth(t);return o.get(i)&&o.get(Y)?n=d.querySelector(o.get(i)).clientWidth:o.get(Y)&&["padding-left","padding-right"].forEach(function(e){r=parseFloat(u.getComputedStyle(t).getPropertyValue(e)),n-=isNaN(r)?0:r}),null!==s&&("block"==e.display?s.style.display="none":"visible"==e.visibility&&e.visibility),n},_setup:function(){var e=this,t=e._bb;e._resetContainerAndArrows=function(){e._getCardsDims(),e.set(S,e._getBbWidth(e._cb)),e.get(l)&&e._bindArrows()}.bind(e),g.Event.on("resetContainer",e._resetContainerAndArrows,t),e._bindAttrs(),e._getCardsDims(),e.set(S,e._getBbWidth(e._cb)),e._bindUI(),!e.get(Q)||(t=t.querySelector("ul"))&&v.removeClass(t,e.get("hiddenClass")),e.get(W)&&e._bindCards()},_bindUI:function(){var e,t=this,r=t._cb,o=t._bb,a=t._getNodeWidth(o),s=t.get(E),n=t.get(G);t.get(l)?t._bindArrows():t._onViewPortChanged(o,a,s,n),t._bindGestures(),(0===v.UA.ie||8<v.UA.ie)&&g.Event.on("resize",t._onWindowResize.bind(t),u),g.Event.delegate(D,t._onCardLinkClick,r,"ul>li a",t),g.Event.on(q,function(){t._anim&&t._anim.active()||(e=setTimeout(function(){clearTimeout(e),t.set(A,0),t.set(y,t._cb.scrollLeft)},10))},r)},_scroll:function(e,t){var r=this,o=r._cb;r._anim&&r._anim.active()||e!=o[C]&&(r._anim=new g.Anim({duration:t,target:e,attribute:C,node:o,easing:r._easeOutQuart}),r._anim.start())},easeOutQuart:function(e,t,r,o){var e=-r*((e=e/o-1)*e*e*e-1)+t;return e=t+r<e?Math.floor(e):Math.ceil(e)},_bindAttrs:function(){var e=this;g.Mutation.after(e,{cardMaxHeight:e._afterCardMaxHeightChange.bind(e),scrollX:e._afterScrollChange.bind(e),boundingBoxWidth:e._afterBoundingBoxWidthChange.bind(e)})},_bindGestures:function(){var e=this._cb;g.Event.removeFor(e,g.Event.GESTURE.start),g.Event.gestureStart(e,this._onGestureMoveStart.bind(this),null,{passive:!0})},_bindTouchActions:function(){var e=this,t=e._cb,r=null;g.Event.gestureStart(t,function(){r=null},null,{passive:!0}),g.Event.on(q,function(){e.get("customLazy")&&e._lazyLoadImage(),e.beacon&&(r=r||setTimeout(function(){clearTimeout(r),e._dragLogParams&&e._fireBeacon(e._dragLogParams)},300))},t)},_resetArrowPosition:function(){var e=this,t=e.get("0"),r=e._arrowNext,o=e._arrowPrev,a=e._bb,s=e.get(".image");r&&o&&(t=t||(a.querySelector(s)||a)[m]/2-e.get(k)/2,r.style.top=t+n,o.style.top=t+n)},_bindArrows:function(){var e=this,t=e._bb,r=e.get(S),o=e.get(E),a=e._arrowPrev,s=e._arrowNext,n=e.get("positionArrows"),i=e.get(G),l=e.get(R);if(i||o<=r)return a&&v.addClass(a,M),s&&v.addClass(s,M),void(t&&!v.hasClass(t,V)&&(v.addClass(t,V),v.removeClass(t,X)));s&&v.removeClass(s,M),t&&!v.hasClass(t,X)&&(v.addClass(t,X),v.removeClass(t,V)),e.set(A,0),e._afterScrollChange({newValue:e.get(y)}),a||s||(a=d.createElement("span"),s=d.createElement("span"),v.addClass(a,e.get("cssArrowPrevClass")+" "+M+" "+e.get(j)),a.innerHTML=c.replace("{1}",e.get("cssArrowPrevIconClass")),v.addClass(s,e.get("cssArrowNextClass")+" "+M+" "+e.get(j)),s.innerHTML=c.replace("{1}",e.get("cssArrowNextIconClass")),g.Event.on(D,e.nextPage.bind(e),s),g.Event.on(D,e.previousPage.bind(e),a),l&&(g.Event.delegate(F,e.arrowNextHover,s,"span",e),g.Event.delegate(O,e.arrowNextHoverEnd,s,"span",e),g.Event.delegate(F,e.arrowPrevHover,a,"span",e),g.Event.delegate(O,e.arrowPrevHoverEnd,a,"span",e)),t.appendChild(s),t.appendChild(a),e._arrowPrev=a,e._arrowNext=s,setTimeout(function(){v.removeClass(s,M)},10),g.Event.on(q+p,function(){v.addClass(a,M),v.removeClass(s,M)},e),g.Event.on(q,function(){v.removeClass(s,M),v.removeClass(a,M)},e),g.Event.on(q+w,function(){v.addClass(s,M),v.removeClass(a,M)},e)),n&&e._resetArrowPosition()},_getCardsDims:function(){var t,r,o=this,a=o._cb,s=[],n=[],i=0,l=0,c=!0,d=0;o._bb.querySelectorAll(U).forEach(function(e){(t=o._getNodeDims(e,!0,o.get("includeMarginsTopBottom")))[b]=i,i+=t[_],d=Math.max(d,t[m]),c&&0!==l&&l!==d&&(c=!1),l=d,n.push(t),s.push(e)}),["padding-left","padding-right"].forEach(function(e){r=parseFloat(u.getComputedStyle(a).getPropertyValue(e)),i+=isNaN(r)?0:r}),o.set("cardMaxHeight",d),o.set(E,i),o.set(P,n),o.set("cardList",s),o.set("isCardHeightFixed",c)},_setBounds:function(){var e=this,t=e.get(S),r=e.get(E),o=e.get(1);1<o&&(e.get(P).length%2?r=r/o+e.get(P)[0].offsetWidth/2:r/=o),e.minScrollX=0,e.maxScrollX=r-t},_lazyLoadImage:function(){var t,r,o=this,a=0,s=v.UA.mobile?o._cb._node.offsetWidth+o._cb._node.scrollLeft:o._getNodeWidth(o._bb)+o.get(y),n=o.get(x),e=o._bb.querySelectorAll(U);if(n===e.size())return!0;e.forEach(function(e){return(t=o._getNodeDims(e,!0))[b]=a,a+=t[_],r=t.offsetWidth,t.offsetLeft+t.offsetWidth>r+s||void((r=e.querySelector("img")).getAttribute("data-js-src")&&(r.setAttribute("src",r.getAttribute("data-js-src")),r.removeAttribute("data-js-src"),n++,o.set(x,n)))})},nextPage:function(){var t,r,e=this,o=e.get(y),a=e.get(S),s=e.maxScrollX,n=e.get(P),i=0;o!==s&&(n.forEach(function(e){if(!r){if(e.offsetLeft+e.offsetWidth-o>a)return r=t=i,!0;i=t=e}}),r=r||t,t=t.offsetLeft+t.offsetWidth,t=Math.min(t,s),e.set(A,I),e.set(y,t),e._rightArrLogParams&&e._fireBeacon(e._rightArrLogParams),e.get("customLazy")&&e._lazyLoadImage())},previousPage:function(){var t,r,e=this,o=e.get(y),a=e.get(S),s=e.get(P),n=e.minScrollX;o!==n&&(s.forEach(function(e){if(!r){if(o-e.offsetLeft<=a)return r=t=e,!0;t=e}}),r=r||t,t=t.offsetLeft,t=Math.max(n,t),e.set(A,I),e.set(y,t),e._leftArrLogParams&&e._fireBeacon(e._leftArrLogParams))},_bindCards:function(){var t=this;t._cb.querySelectorAll("li.plaItem").forEach(function(e){g.Event.on(F,t._expandCard,e),g.Event.on(O,t._collapseCard,e)})},_expandCard:function(e){e=e.currentTarget;g.DOM.addClass(e,"expand")},_collapseCard:function(e){e=e.currentTarget;g.DOM.removeClass(e,"expand")},arrowNextHover:function(e){var t=e.container.querySelector(".ico"),r=this.get(T),e=this.get(H);t&&(v.removeClass(t,r),v.addClass(t,e))},arrowNextHoverEnd:function(e){var t=e.container.querySelector(".ico"),r=this.get(T),e=this.get(H);t&&(v.removeClass(t,e),v.addClass(t,r))},arrowPrevHover:function(e){var t=e.container.querySelector(".ico"),r=this.get(L),e=this.get(N);t&&(v.removeClass(t,r),v.addClass(t,e))},arrowPrevHoverEnd:function(e){var t=e.container.querySelector(".ico"),r=this.get(L),e=this.get(N);t&&(v.removeClass(t,e),v.addClass(t,r))},_getNodeDims:function(e,t,r){var o=this.get(K),a=null,s=this._getNodeWidth(e,t),n=this._getNodeHeight(e,r);return e?(null!==(a=""!==o?e.closest(o):a)&&("none"==(o=u.getComputedStyle(a)).display?a.style.display="block":"hidden"==o.visibility&&o.visibility,s=this._getNodeWidth(e,t),n=this._getNodeHeight(e,r),"block"==o.display?a.style.display="none":"visible"==o.visibility&&o.visibility),{offsetWidth:s,offsetHeight:n}):{offsetLeft:0,offsetWidth:0}},_getNodeWidth:function(e,t){var r,o=["margin-left","margin-right"];if(!e)return 0;var a=u.getComputedStyle(e),e=parseFloat(a.getPropertyValue("width")),s=isNaN(e)?0:e;return!0===t&&("border-box"!==a.getPropertyValue("box-sizing")&&o.push("padding-left","padding-right","border-left","border-right"),o.forEach(function(e){r=parseFloat(a.getPropertyValue(e)),s+=isNaN(r)?0:r})),s},_getNodeHeight:function(t,e){var r,o;return t?(r=t[m],!0===e&&["margin-top","margin-bottom"].forEach(function(e){o=parseFloat(u.getComputedStyle(t).getPropertyValue(e)),r+=isNaN(o)?0:o}),r):0},_onWindowResize:function(){var e=this,t=e._bb,r=e._getBbWidth(t),o=e.get(E),a=e.get(G);e._resizeTimer&&clearTimeout(e._resizeTimer),e._resizeTimer=setTimeout(function(){e._getCardsDims(),e.set(S,e._getBbWidth(e._cb)),e.get(l)?e._bindArrows():e._onViewPortChanged(t,r,o,a)},100)},_onViewPortChanged:function(e,t,r,o){e&&(o||r<=t?(v.hasClass(e,X)&&v.removeClass(e,X),v.hasClass(e,V)||v.addClass(e,V)):(v.hasClass(e,V)&&v.removeClass(e,V),v.hasClass(e,X)||v.addClass(e,X)))},_onCardLinkClick:function(e){var t=this._gesture;t&&t.isMoving&&e.preventDefault()},_onGestureMoveStart:function(e){var t=this,r=t._cb,o=t.get(y),a=e.clientX,e=e.clientY;t._gesture={startX:o,startClientX:a,startClientY:e,deltaX:null,deltaY:null,isMoving:!1},g.Event.gestureMove(r,t._onGestureMove.bind(t),null,{passive:!0}),g.Event.gestureEnd(r,t._onGestureMoveEnd.bind(t),null,{passive:!0})},_onGestureMove:function(e){var t=this._gesture,r=t.startClientX,o=t.startClientY;t.deltaX=r-e.clientX,t.deltaY=o-e.clientY,t.isMoving||(t.isMoving=!0,t.isScrollingX=Math.abs(t.deltaX)>=Math.abs(t.deltaY)),t.isScrollingX},_onGestureMoveEnd:function(e){var t=this,r=t._cb,o=t._gesture;g.Event.removeFor(r,g.Event.GESTURE.move),g.Event.removeFor(r,g.Event.GESTURE.end),o.deltaX=o.startClientX-e.clientX,0===o.deltaX?o.isMoving=!1:setTimeout(function(){o.isMoving=!1},10),t._dragLogParams&&o.isScrollingX&&t._fireBeacon(t._dragLogParams)},destructor:function(){var e;this&&(e=this.get(t))&&(g.Event.removeFor(e),g.Mutation.removeFor(e))},_getLogParams:function(e,t,r){var o={};return o.actn=e,o.rspns=t,r&&(o.outcm=r),o},_setNode:function(e){try{e=this.get(f).querySelector(e)}catch(t){}if(e)return e;e=r},_fireBeacon:function(e){var t,r=this;r._beacon&&0<Object.keys(r._beacon).length?(t=v.clone(r._beacon),v.merge(t,e,!1),o.ULT.beacon(t)):r.get("beaconUrl")&&o.ULT.beacon(e,null,0,r.get("beaconUrl"))},_addTouchFlagToUA:function(){var e=u.navigator;v.UA.touchEnabled=!1,u&&e&&(v.UA.touchEnabled="ontouchstart"in u||"msMaxTouchPoints"in e&&0<e.msMaxTouchPoints)},_afterScrollChange:function(e){var t=this,r=t.get(A),e=e.newValue;e<=t.minScrollX?g.Event.fire(q+p,null,t):e>=Math.floor(t.maxScrollX)?g.Event.fire(q+w,null,t):g.Event.fire(q,null,t),t._scroll(e,r)},_afterBoundingBoxWidthChange:function(e){var t=this,r=t.get(y),o=t.get(E),a=t.get(P);return t._setBounds(),o-r<e.newValue?(r=o-e.newValue,t.set(A,0),void t.set(y,r)):a[0].offsetWidth===e.newValue&&0<r?(r=r*e.newValue/e.oldValue,t.set(A,0),void t.set(y,r)):(t.set(A,0),void t._afterScrollChange({newValue:r}))},_afterCardMaxHeightChange:function(e){var t=this._bb;v.UA.touchEnabled||this.get(J)||(t.style.height=e.newValue+n),this.get("customLazy")&&this._lazyLoadImage()}},g.SP.compJsScroll=e}(window,document);